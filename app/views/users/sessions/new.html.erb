<div class="row">
    <section class="col-12 col-lg-8 login-box">
      <% if flash.count > 0 %>
        <div id="sl_message" class="alert alert-danger col-xs-10 col-xs-offset-1" role="alert">
          <button type="button" class="btn-close close" data-bs-dismiss="alert" aria-label="Close"></button>
          <% flash.each do |name, msg| %>
            <%= content_tag :p, msg, id: "flash_#{name}" %>
          <% end %>
        </div>
      <% end %>
      <%=render 'users/sns' %>

      <div class="text-center" style="margin-top:30px;padding-top:30px;border-top:1px solid #ccc">
        <button id="no-sns-id" class="btn btn-primary">SNS계정 없음</button>
      </div>
      <div id="no-sns-login" style="margin-top:30px;display:none">
        <h2><%= t(:service_name) %> <%= t(:login_title) %></h2>


        <%= form_for(resource, :as => resource_name, :url => session_path(resource_name), :html => { :class => "form-horizontal", :id => "sl_login_form", :role => "form" }, data: { turbo: false }) do |f| %>
          <div class="card mb-3">
            <div class="card-body p-3">

              <div class="form-group row">
                <label for="sl_email" class="col-sm-2 col-form-label text-end"><%= t(:email) %></label>
                <div class="col-sm-10">
                  <% default_email = ENV['DEFAULT_EMAIL'].presence %>
                  <% default_password = ENV['DEFAULT_PASSWORD'].presence %>
                  <%# email %>
                  <%= f.email_field :email, value: (f.object.email.presence || default_email), autocomplete: "email", class: "form-control" %>
                </div>
              </div>
              <div class="form-group row">
                <label for="sl_password" class="col-sm-2 col-form-label text-end"><%= t(:password) %></label>
                <div class="col-sm-10">
                  <%# password %>
                  <%= f.password_field :password, value: default_password, autocomplete: "new-password", class: "form-control"  %>
                </div>
              </div>
            </div>
          </div>

          <div class="d-grid gap-2 mb-3">
              <button type="submit" class="btn btn-primary btn-lg"><%= t(:login) %></button>
          </div>
        <% end %>
        <div class="row">
          <div class="col-12 col-xl-6">
            <%= link_to t(:new_user), new_user_registration_path %>
          </div>
        </div>
      </div>
    </section>
</div>